Для того чтобы выбрать между монолитом и микросервисами, нам необходимо учесть ограничения бизнеса и технические ограничения. Возьмем эти данные исходя из требований.

Ограничения бизнеса:
- Деньги на данный момент не критичны, happy cat box готовы потратить столько, сколько потребуется.
- Низкий TTM
- Для бизнеса критично проверять новые гипотезы по отсеву котов и изменять уже существующие с максимальной скоростью и надёжностью.

Технические ограничения:
- Алгоритм матчинга. Разработчики решили, что они сами будут реализовывать всю логику на любом языке, так как они не хотят делиться алгоритмом
- Отбор кандидатов. Мы ожидаем 1 к заявок в день от рандомных котов, также, судя по отзывам, наши конкуренты могут попытаться нас заддосить в этом месте. Они так делали уже несколько раз с другими компаниями, после чего компании закрывались с позором.
- Общая нагрузка на систему не будет превышать 10 заказов в день и 100 клиентов. Воркеров будет 20 человек.


На мой взгляд, монолит здесь не подходит по следующим причинам:
- Так как во первых ставки имеет мало общего с остальными бизнес процессами;
- А также оплата заказа и выплаты за работу это критичные части системы и в целях безопасности они должны быть отделены.
- Алгоритм матчинга будет реализован на произвольном языке, возможно отличным от остальных частей системы, поэтому его нужно выделить отдельно
- Денег у бизнеса достаточно

Так как монолит не подходит, и так как я не имею представления о других архитектурах, кроме микросервисов и монолита, выбор делается в пользу микросервисов.

Ниже приведена схема микросервисной реализации проекта
![[Microservice implementaton.svg]]

В данной системе будут использованны как асинхронные коммуникации, так и синхронные по следующим причинам:
- Асинхронные
  - Нет необходимости делать мгновенно передаавать данные по заказу в сервис контроля качества, это можно отложить
  - То же самое касается сервиса ставок
  - То же самое касается сервиса отбора кандидатов на должность воркера
- Синхронные
  - Выбор воркера для заказа - это важно, иначе клиент не дождется воркера и решит отменить заказ
  - Оплата заказа - не должно быть задержек, чтобы клиент смог быстро оплатить и тут же видеть результаты оплаты
